# let/const

`js`里面一直以来都是用`var`定义变量，但是`var`有好几个问题经常导致一些看上去很奇怪的bug。 所以ES6里引入了`let`和`const`关键字来解决`var`存在的问题。

如果只需要记住一句话的话， 那就是：从此以后不要用`var`！ 看到`var`先换成`let`，然后想想定义的变量如果是不需要改变的话，再改成`const`。

# var的问题
我们还是来说一下`var`存在的问题吧。首先看一下下面这段代码，你觉得会输出什么：
```js
for(var i = 0; i < 10; i += 1) {
  setTimeout(() => {
    console.log(i);
  }, 100);
}
```
输出`0 1 2 3 4 5 6 7 8 9`？执行一下居然输出10个`10`！ why?!!!

这就是`var`存在的最大的问题： 没有`lexical scope`。如果要用`var`实现输出0-9的效果的话，要这样写：
```js
for(var i = 0; i < 10; i += 1) {
  setTimeout(((i) => {
    console.log(i);
  })(i), 100);
}
```
看不懂就算了，因为从此再也不需要搞这么复杂。 直接把`var`改成`let`，问题解决！
```js
for(let i = 0; i < 10; i += 1) {
  setTimeout(() => {
    console.log(i);
  }, 100);
}
```
另外，`var`没有`块作用域(block scope)`，所以前面两种写法，`for`循环结束之后`i`为10，而用`let`的话，`for`结束之后：`i is not defined`！

`const`的作用于跟`let`一样，只是`const`定义的变量不能再修改，即是常量！

`var`还有很多其他问题， 如果你们有一天去面试，面试官问你关于`var`的问题，你就这样回答他：**我们换成`let`怎么样？**

# 总结
从此以后不要用`var`！ 看到`var`先换成`let`，如果是不需要改变的话，再改成`const`。

从此以后不要用`var`！ 看到`var`先换成`let`，如果是不需要改变的话，再改成`const`。

从此以后不要用`var`！ 看到`var`先换成`let`，如果是不需要改变的话，再改成`const`。